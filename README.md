# dynamo-update-expr
Simple DynamoDB update expression generator. 

As of now there is only support for DynamoDB SET expression. I will try to maintain this repository and add support for ADD, REMOVE, DELETE expressions as well
<!-- Generated by documentation.js. Update this documentation by updating the source code. -->
## Installation

```
  npm i dynamo-update-expr
```

## Usage

```
  const { DynamoExpression }=require('dynamo-update-expr')

  const values = [
    {
      key: 'user.name.first',
      value: 'John'
    },
    {
      key: 'user.name.last',
      value: 'Doe'
    },
    {
      key: 'user.data',
      value: {
        age: 24,
        location: 'Manglore'
      }
    },
    {
      key: 'name',
      value: 'Shashank'
    }
  ]

  let expr = new DynamoExpression().set(values);

  console.log(expr.asExpression());
```

## Methods

*   [set][1]
    *   [params][2]
*   [asExpression][3]

### set

function to generate a DynamoExpression which will SET some values in the DB

#### Parameters

*   `items` **[Array][4]\<[SetParam][5]>** Array od setParams to the DynamoExpression

Returns **DynamoExpression** expr

##### Type - SetParam 

```
  interface SetParam {
    key: string;
    value: any;
  }
```

### asExpression

function to get the expression object to directly pass to the Dynamodb update call

Returns **[Expression][6]** generated dynamo expression

##### Type - Expression 
```
  interface Expression {
    ExpressionAttributeNames: Record<string,any>;
    ExpressionAttributeValues: Record<string,any>;
    UpdateExpression: string;
  }
```

Please feel free to create pull requests or feature requests.

[1]: #set

[2]: #parameters

[3]: #asexpression

[4]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[5]: #type-setparam

[6]: #type-expression

[7]: #usage